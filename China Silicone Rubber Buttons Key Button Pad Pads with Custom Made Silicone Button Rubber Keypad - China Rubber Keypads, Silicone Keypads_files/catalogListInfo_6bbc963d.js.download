void function(){var g=$("#J-catalog-dialog");if(g&&0<g.length){var l=template($("#J-catalog-dialog").html()),e={};window.urlForward=function(){closePopupDialog();h(e.url,e,1)};var m=template($("#J-dia-success").html()),k=template($("#J-dia-warn").html());$(document).on("click",".J-supplier-catalog",function(){new artDialog({title:!1,cancel:!1,content:k({retResult:{tipMessage:"Sorry, this service is only available for buyers."}}),lock:!0,time:3})});var f=function(c,b,a){var d=new artDialog({title:"",
content:k(b),button:[{name:"Confirm",highlight:!0,callback:function(){switch(c){case 1:showPoploginArtdialog(window.location.href,"quoteUrl\x3d1\x26loginName\x3d"+a.email);break;case 2:showPopRegisterArtdialog(window.location.href,"quoteUrl\x3d1\x26userName\x3d"+a.name+"\x26userEmail\x3d"+a.email+"\x26comCountry\x3d"+a.comCountry);break;case 0:d.close()}}},{name:"Cancel",callback:function(){d.close()}}],lock:!0})},h=function(c,b,a){$.ajax({url:c,type:"POST",data:b,dataType:"json",cache:!1,success:function(d){if(d)if("100"===
d.retCode)var c=new artDialog({title:"",content:m(d),init:function(){},button:[{name:"Confirm",highlight:!0,callback:function(){0===a?c.close():1===a&&window.location.reload()}}],lock:!0});else"200"===d.retCode&&(d.retResult.needLogin?f(1,d,b):d.retResult.needRegister?f(2,d,b):f(0,d));else alert("net err!")},error:function(){alert("net err!")}})},n=function(c,b){new artDialog({title:"Request Free Catalogs",content:l(b),init:function(){var a=$(".J-catalog-form");Select.use($(".J-countrySelect"));a.validate({errorWrap:!0,
rules:{email:{email:!0,required:!0,remote:{url:"/Product-Catalogs/Emial-Check",type:"post",data:{email:function(){return $("[name\x3demail]").val()}},dataType:"json",dataFilter:function(a){return JSON.parse(a).flag}}},name:{required:!0,enonly:!0},comCountry:{required:!0}},messages:{email:{required:"Please enter your email address.",email:"Please enter your valid email address.Example: name@yourcompany.com.",remote:"Sorry, this service is only available for buyers."},name:{required:"Please enter your name.",
enonly:"Please enter your name in English."},comCountry:{required:"Please select your country."}}});a.submit(function(a){a.preventDefault()})},button:[{name:"Confirm",highlight:!0,callback:function(){var a=$(".J-catalog-form");if(a.valid())e={source:$("[name\x3dsource]",a).val(),email:$("[name\x3demail]",a).val(),name:$("[name\x3dname]",a).val(),comCountry:$("[name\x3dcomCountry]",a).val(),url:c},h(c,e,0);else return!1}},{name:"Cancel"}],width:590,fixed:!0,lock:!0,resize:!1,drag:!1})},p=function(c){$.ajax({url:"/countryList",
dataType:"json",cache:!1,success:function(b){b?n(c,{hotCountries:b.retResult.country.hotCountries||[],allCountries:b.retResult.country.allCountries||[],selected:b.retResult.comCountry||""}):alert("net err!")},error:function(){alert("net err!")}})};$(document).on("click",".J-download-catalog",function(c){c.preventDefault();var b=$(this).attr("cz-url");$.ajax({url:"/Product-Catalogs/Ip-Check",type:"get",dataType:"json",cache:!1,success:function(a){a?"0"===a.execflag?p(b):showPoploginArtdialog(window.location.href,
"logonNotice\x3d"+encodeURIComponent(a.errormsg)):alert("net err!")},error:function(){alert("net err!")}})})}}.call(this);